<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>컴포넌트(MyTimeBar) 구조로 시:분:초 구현하기</title>
        <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
        <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
        <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    </head>
    <body>
        <div id = 'root'></div>
        <script type = 'text/babel'>
            
            class MyTimeBar extends React.Component {

                constructor (props) {
                    super(props)
                    // 상태변수가 시간값을 가지고 있는다
                    // -> 1초가 지나면 시간이 변경된다 (상태변수값 변경)
                    // -> render() 호출 -> 화면갱신 -> 시:분:초
                    this.state = {
                        time : new Date()
                    }

                    // 1초마다 콜백함수 호출
                    setInterval(() => {
                        this.setState({time : new Date()})
                    }, 1000*1);
                }

                render() {
                    // 객체 구조분해를 통해 시간변수를 time으로 받아낸다
                    let {time} = this.state
                    console.log(time)
                    let time_str = `${time.getHours()}:${time.getMinutes()}:${time.getSeconds()}`
                    return (<div>
                        <h3>{time_str}</h3>
                    </div>)
                }

            }
            
            let html = (<div>
                <MyTimeBar />    
            </div>)

            ReactDOM.render( html, document.querySelector('#root'))
        </script>
    </body>
</html>